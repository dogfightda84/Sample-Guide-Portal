<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>고요의 순간</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Nanum+Gothic:wght@400;700&family=Rubik:wght@400;500&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --background: #fdfaf6;
            --foreground: #4a4a4a;
            --primary-accent: #D98880;
        }

        html, body {
            max-width: 100vw;
            overflow-x: hidden;
        }

        body {
            color: var(--foreground);
            background: var(--background);
            font-family: 'Rubik', 'Nanum Gothic', sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        * {
            box-sizing: border-box;
            padding: 0;
            margin: 0;
        }

        a {
            color: inherit;
            text-decoration: none;
        }

        .btn-custom-primary {
            background-color: var(--primary-accent) !important;
            border-color: var(--primary-accent) !important;
            color: white !important;
            padding: 10px 25px;
            font-weight: 500;
            transition: all 0.2s ease-in-out;
        }

        .btn-custom-primary:hover {
            opacity: 0.9;
            transform: translateY(-2px);
        }

        .btn-custom-secondary {
            background-color: transparent !important;
            border-color: var(--primary-accent) !important;
            color: var(--primary-accent) !important;
            padding: 10px 25px;
            font-weight: 500;
            transition: all 0.2s ease-in-out;
        }

        .btn-custom-secondary:hover {
            background-color: var(--primary-accent) !important;
            color: white !important;
        }

        html {
            scroll-behavior: smooth;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in {
            animation: fadeIn 0.6s ease-out;
        }

        img {
            transition: transform 0.3s ease, opacity 0.3s ease;
        }

        .card {
            transition: all 0.3s ease;
        }

        .card:hover {
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1) !important;
        }

        .page-section {
            display: none;
        }

        .page-section.active {
            display: block;
        }

        .navbar {
            background-color: #fffbf5;
            border-bottom: 1px solid #eee;
        }

        footer {
            background-color: #f8f9fa;
        }
    </style>
</head>
<body class="d-flex flex-column min-vh-100">
    <!-- Header -->
    <nav class="navbar navbar-expand-lg navbar-light sticky-top">
        <div class="container">
            <a class="navbar-brand" href="#" onclick="showPage('home'); return false;">고요의 순간</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="#" onclick="showPage('about'); return false;">소개</a></li>
                    <li class="nav-item"><a class="nav-link" href="#" onclick="showPage('news'); return false;">소식</a></li>
                    <li class="nav-item"><a class="nav-link" href="#" onclick="showPage('gallery'); return false;">갤러리</a></li>
                    <li class="nav-item"><a class="nav-link" href="#" onclick="showPage('resources'); return false;">자료실</a></li>
                    <li class="nav-item"><a class="nav-link" href="#" onclick="showPage('community'); return false;">커뮤니티</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <main class="flex-grow-1">
        <!-- Home Page -->
        <div id="home" class="page-section active">
            <div class="container py-5 my-5">
                <div class="row align-items-center">
                    <div class="col-lg-6">
                        <h1 class="display-4 fw-bold lh-1 mb-3">함께 성장하는<br>따뜻한 공동체</h1>
                        <p class="lead" style="color: #6c757d;">
                            '고요의 순간'은 단순히 명상만 하는 곳이 아닙니다.<br>
                            함께 배우고, 나누고, 성장하는 사람들의 이야기로 가득한 공간입니다.
                        </p>
                        <div class="d-grid gap-2 d-md-flex justify-content-md-start">
                            <button class="btn btn-custom-primary" onclick="showPage('news')">공동체 소식 보기</button>
                            <button class="btn btn-custom-secondary" onclick="showPage('gallery')">활동 사진 둘러보기</button>
                        </div>
                    </div>
                    <div class="col-lg-6 mt-4 mt-lg-0">
                        <img src="https://images.unsplash.com/photo-1506126613408-eca07ce68773?w=800&h=600&fit=crop" alt="Community gathering" class="img-fluid rounded" style="box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                    </div>
                </div>
            </div>

            <div class="py-5" style="background-color: #fff;">
                <div class="container">
                    <h2 id="news-section" class="text-center mb-5">새로운 소식</h2>
                    <div class="row g-4" id="home-news-container"></div>
                    <div class="text-center mt-4">
                        <button class="btn btn-custom-secondary" onclick="showPage('news')">소식 전체 보기</button>
                    </div>

                    <hr class="my-5">

                    <h2 class="text-center mb-5">우리의 순간들</h2>
                    <div class="row g-3" id="home-gallery-container"></div>
                    <div class="text-center mt-4">
                        <button class="btn btn-custom-secondary" onclick="showPage('gallery')">갤러리 전체 보기</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- About Page -->
        <div id="about" class="page-section">
            <div class="container py-5">
                <div class="row align-items-center">
                    <div class="col-lg-6 mb-4 mb-lg-0">
                        <h1 class="display-5 fw-bold">우리의 이야기</h1>
                        <p class="lead" style="color: #6c757d;">
                            '고요의 순간'은 2024년, 마음의 평화를 갈망하는 현대인들을 위해 설립되었습니다. 저희는 바쁜 일상 속에서도 잠시 멈춰 자신의 내면을 들여다볼 수 있는 기회를 제공하고자 합니다.
                        </p>
                        <p style="color: #6c757d;">
                            전통적인 가르침을 현대적인 시각으로 재해석하여 누구나 쉽게 이해하고 일상에 적용할 수 있는 프로그램을 운영하고 있습니다.
                        </p>
                    </div>
                    <div class="col-lg-6">
                        <img src="https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800&h=600&fit=crop" alt="Organization" class="img-fluid rounded" style="box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                    </div>
                </div>
            </div>

            <div style="background-color: #fff;">
                <div class="container py-5">
                    <div class="row">
                        <div class="col-md-10 col-lg-8 mx-auto text-center">
                            <h2 class="fw-bold">우리의 비전</h2>
                            <p class="lead" style="color: #6c757d;">
                                "경쟁과 불안의 시대, 내면의 평화와 자비심을 키워 개인의 삶과 사회 전체에 긍정적인 파동을 일으키는 것을 목표로 합니다."
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="container py-5">
                <h2 class="text-center fw-bold mb-5">함께하는 사람들</h2>
                <div class="row" id="about-team-container"></div>
            </div>
        </div>

        <!-- News Page -->
        <div id="news" class="page-section">
            <div class="container py-5">
                <div class="text-center mb-5">
                    <h1 class="fw-bold">새로운 소식</h1>
                    <p class="lead" style="color: #6c757d;">공동체의 다양한 이야기와 최신 소식을 전해드립니다.</p>
                </div>
                <div class="row g-4" id="news-container"></div>
                <div class="text-center mt-5">
                    <button class="btn btn-custom-secondary">이전 소식 더 불러오기</button>
                </div>
            </div>
        </div>

        <!-- News Detail Page -->
        <div id="news-detail" class="page-section">
            <div class="container py-5" style="max-width: 900px;" id="news-detail-container"></div>
        </div>

        <!-- Gallery Page -->
        <div id="gallery" class="page-section">
            <div class="container py-5">
                <div class="text-center mb-5">
                    <h1 class="fw-bold">우리의 순간들</h1>
                    <p class="lead" style="color: #6c757d;">함께한 시간들의 소중한 기록입니다.</p>
                </div>
                <div class="row g-4" id="gallery-container"></div>
            </div>
        </div>

        <!-- Resources Page -->
        <div id="resources" class="page-section">
            <div class="container py-5">
                <div class="text-center mb-5">
                    <h1 class="fw-bold">나눔 자료실</h1>
                    <p class="lead" style="color: #6c757d;">수행과 일상에 도움이 되는 다양한 자료들을 나누는 공간입니다.</p>
                </div>
                <div class="list-group" id="resources-container"></div>
            </div>
        </div>

        <!-- Community Page -->
        <div id="community" class="page-section">
            <div class="container py-5">
                <div class="text-center mb-5">
                    <h1 class="fw-bold">자유 게시판</h1>
                    <p class="lead" style="color: #6c757d;">자유롭게 이야기를 나누고 서로의 경험을 공유하는 공간입니다.</p>
                </div>

                <div class="d-flex flex-column flex-md-row justify-content-between mb-3 gap-3">
                    <form class="d-flex" onsubmit="handleSearch(event); return false;">
                        <div class="input-group w-auto">
                            <input type="text" class="form-control" id="search-input" placeholder="게시글 검색 (제목, 작성자)">
                            <button class="btn btn-outline-secondary" type="submit">검색</button>
                            <button class="btn btn-outline-secondary" type="button" id="reset-search" onclick="resetSearch()" style="display: none;">초기화</button>
                        </div>
                    </form>
                    <button class="btn btn-custom-primary" data-bs-toggle="modal" data-bs-target="#writeModal">글쓰기</button>
                </div>

                <div id="community-search-result" class="mb-3" style="display: none;"></div>
                <div id="community-container"></div>

                <div class="d-flex justify-content-center mt-4">
                    <nav>
                        <ul class="pagination">
                            <li class="page-item disabled"><a class="page-link" href="#">이전</a></li>
                            <li class="page-item active"><a class="page-link" href="#">1</a></li>
                            <li class="page-item"><a class="page-link" href="#">2</a></li>
                            <li class="page-item"><a class="page-link" href="#">3</a></li>
                            <li class="page-item"><a class="page-link" href="#">다음</a></li>
                        </ul>
                    </nav>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-light py-4 mt-auto">
        <div class="container">
            <div class="row">
                <div class="col text-center">
                    <p class="mb-0">&copy; <span id="current-year"></span> 고요의 순간. All Rights Reserved.</p>
                    <p>
                        <a href="#privacy">개인정보처리방침</a> | <a href="#terms">이용약관</a>
                    </p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Write Post Modal -->
    <div class="modal fade" id="writeModal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">새 글 작성</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form onsubmit="handleSubmitPost(event); return false;">
                        <div class="mb-3">
                            <label class="form-label">제목</label>
                            <input type="text" class="form-control" name="title" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">작성자</label>
                            <input type="text" class="form-control" name="author" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">내용</label>
                            <textarea class="form-control" rows="5" name="content" required></textarea>
                        </div>
                        <div class="d-flex justify-content-end">
                            <button type="button" class="btn btn-secondary me-2" data-bs-dismiss="modal">취소</button>
                            <button type="submit" class="btn btn-custom-primary">저장</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Gallery Image Modal -->
    <div class="modal fade" id="galleryModal" tabindex="-1">
        <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="galleryModalTitle"></h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <img id="galleryModalImage" src="" alt="" class="img-fluid">
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        // Data
        const newsItems = [
            {
                id: 1,
                title: '청소년 마음챙김 캠프 성료',
                date: '2025년 11월 20일',
                excerpt: '미래의 주역인 청소년들을 위한 마음챙김 캠프가 큰 호응 속에 마무리되었습니다. 참가자들은 자연 속에서 명상을 배우고...',
                content: `미래의 주역인 청소년들을 위한 마음챙김 캠프가 큰 호응 속에 마무리되었습니다. 참가자들은 자연 속에서 명상을 배우고, 자신의 내면을 들여다보는 소중한 시간을 가졌습니다.

이번 캠프는 총 3일간 진행되었으며, 전국 각지에서 모인 50여 명의 청소년들이 참가했습니다. 첫날은 서로를 알아가는 시간으로 시작되었고, 둘째 날에는 산행과 함께하는 명상 시간, 그리고 마지막 날에는 참가자들이 직접 작성한 마음 일기를 나누는 시간을 가졌습니다.

특히 이번 캠프에서는 스마트폰을 잠시 내려놓고 자연과 대화하는 시간을 가졌는데, 처음에는 어색해하던 참가자들도 시간이 지나면서 자연의 소리에 귀 기울이고, 자신의 호흡에 집중하는 모습을 보였습니다.

"처음에는 힘들었지만, 나중에는 정말 마음이 편안해졌어요"라는 한 참가자의 소감처럼, 많은 청소년들이 일상의 스트레스에서 벗어나 평화로운 시간을 경험했다고 전했습니다.

앞으로도 청소년들을 위한 다양한 프로그램을 준비하여, 미래 세대가 건강한 마음을 가질 수 있도록 지원하겠습니다.`,
                image: 'https://images.unsplash.com/photo-1506126613408-eca07ce68773?w=800&h=600&fit=crop',
                views: 342,
                category: '프로그램'
            },
            {
                id: 2,
                title: '겨울 안거 시작, 정진의 시간',
                date: '2025년 11월 15일',
                excerpt: '모든 스님들이 참여하는 동안거가 시작되었습니다. 석 달간의 집중 수행을 통해 깨달음의 깊이를 더해갑니다.',
                content: `모든 스님들이 참여하는 동안거가 시작되었습니다. 석 달간의 집중 수행을 통해 깨달음의 깊이를 더해갑니다.

안거(安居)는 불교에서 비구들이 우기 동안 한 곳에 머물며 수행하는 전통적인 제도입니다. 겨울 안거는 음력 10월 15일부터 시작하여 다음 해 정월 15일까지 3개월간 진행됩니다.

이 기간 동안 스님들은 외출을 최소화하고, 하루 종일 정진에 몰두합니다. 새벽 3시 기상부터 저녁 9시 취침까지, 엄격한 일정 속에서 좌선, 경전 공부, 예불 등이 이루어집니다.

주지스님은 "안거는 단순히 물리적으로 한 곳에 머무는 것이 아니라, 마음의 안거를 의미합니다. 이 기간 동안 자신의 마음을 들여다보고, 번뇌를 다스리는 것이 목표입니다"라고 말씀하셨습니다.

신도들도 이 기간 동안 스님들의 정진을 위해 기도와 공양을 통해 지원하고 있으며, 안거가 끝나는 날인 해제일에는 특별 법회가 열릴 예정입니다.`,
                image: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800&h=600&fit=crop',
                views: 289,
                category: '안거'
            },
            {
                id: 3,
                title: '온라인 명상 프로그램 신설',
                date: '2025년 11월 10일',
                excerpt: '바쁜 현대인들을 위해 언제 어디서든 참여할 수 있는 온라인 명상 프로그램이 새롭게 개설되었습니다. 많은 참여 바랍니다.',
                content: `바쁜 현대인들을 위해 언제 어디서든 참여할 수 있는 온라인 명상 프로그램이 새롭게 개설되었습니다. 많은 참여 바랍니다.

코로나19 이후 비대면 문화가 일상화되면서, 사찰에서도 온라인을 통한 수행 프로그램의 필요성이 대두되었습니다. 이에 따라 이번 11월부터 정식으로 온라인 명상 프로그램을 시작하게 되었습니다.

프로그램은 매주 월요일, 수요일, 금요일 저녁 8시에 실시간으로 진행되며, 주지스님의 지도 아래 30분간 명상을 함께 합니다. 참가자들은 화면을 끄고 참여할 수도 있어, 집중도 높은 명상 시간을 가질 수 있습니다.

또한 주 1회 진행되는 '명상 기초반'과 '심화반'도 마련되어 있어, 초보자부터 숙련자까지 자신의 수준에 맞는 프로그램을 선택할 수 있습니다.

참가 신청은 사찰 홈페이지를 통해 가능하며, 첫 달은 무료로 체험할 수 있습니다. 많은 분들의 관심과 참여를 부탁드립니다.`,
                image: 'https://images.unsplash.com/photo-1506126613408-eca07ce68773?w=800&h=600&fit=crop&q=80',
                views: 456,
                category: '프로그램'
            },
            {
                id: 4,
                title: '자비의 김장 나누기 행사',
                date: '2025년 11월 5일',
                excerpt: '지역 사회의 어려운 이웃들을 위해 신도들과 함께 김장을 담그고 나누는 행사를 가졌습니다. 따뜻한 마음이 전달되기를...',
                content: `지역 사회의 어려운 이웃들을 위해 신도들과 함께 김장을 담그고 나누는 행사를 가졌습니다. 따뜻한 마음이 전달되기를 바랍니다.

올해로 10년째를 맞이하는 '자비의 김장 나누기' 행사가 지난 주말 사찰 마당에서 열렸습니다. 이번 행사에는 신도 100여 명이 참가하여, 총 500포기의 김장을 담갔습니다.

새벽부터 시작된 행사는 무더운 김장 배추 손질부터 시작되었고, 오전에는 양념을 만들고, 오후에는 본격적인 김장 작업이 진행되었습니다. 참가자들은 서로의 이야기를 나누며 즐겁게 작업을 진행했고, 특히 젊은 세대와 어르신들이 함께 어울려 작업하는 모습이 인상적이었습니다.

담근 김장은 지역 내 독거노인, 한부모 가정, 저소득층 가정 등 200여 가구에 전달되었습니다. 한 수혜자는 "매년 이렇게 따뜻한 마음을 받아서 정말 감사합니다. 겨울이 와도 마음만은 따뜻하네요"라고 말씀하셨습니다.

주지스님은 "불교의 자비 정신을 실천하는 것이 바로 이런 작은 실천에서 시작됩니다. 앞으로도 지역 사회와 함께하는 다양한 나눔 활동을 이어가겠습니다"라고 말씀하셨습니다.`,
                image: 'https://images.unsplash.com/photo-1542838132-92c53300491e?w=800&h=600&fit=crop',
                views: 523,
                category: '행사'
            },
            {
                id: 5,
                title: '주지스님 초청 특별 법회',
                date: '2025년 11월 1일',
                excerpt: '많은 분들의 요청으로 주지스님을 초청하여 "일상 속의 깨달음"을 주제로 한 특별 법회를 봉행했습니다.',
                content: `많은 분들의 요청으로 주지스님을 초청하여 "일상 속의 깨달음"을 주제로 한 특별 법회를 봉행했습니다.

지난 11월 1일, 대웅전에서 주지스님을 모시고 특별 법회가 열렸습니다. 이번 법회는 "일상 속의 깨달음"을 주제로, 현대인들이 바쁜 일상 속에서도 어떻게 마음의 평화를 찾을 수 있는지에 대해 이야기 나누었습니다.

법회는 오후 2시부터 4시까지 2시간 동안 진행되었으며, 약 300명의 신도들이 참석했습니다. 주지스님은 "깨달음은 멀리 있는 것이 아니라, 지금 이 순간, 이 자리에서 찾을 수 있습니다. 하루 한 번, 10분만이라도 자신의 호흡에 집중해보세요. 그것이 바로 일상 속의 깨달음입니다"라고 말씀하셨습니다.

법회 후에는 참석자들과의 질의응답 시간도 가졌으며, 많은 신도들이 일상의 고민과 수행에 대한 질문을 드렸습니다. 한 신도는 "법회를 듣고 나니 마음이 한결 편안해졌습니다. 앞으로도 꾸준히 참석하겠습니다"라고 소감을 밝혔습니다.

이번 법회는 온라인으로도 생중계되어, 원격지에 거주하는 신도들도 함께 참여할 수 있었습니다.`,
                image: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=800&h=600&fit=crop',
                views: 678,
                category: '법회'
            },
            {
                id: 6,
                title: '가을 산사 음악회 개최',
                date: '2025년 10월 28일',
                excerpt: '깊어가는 가을밤, 아름다운 국악 선율과 함께하는 산사 음악회가 열렸습니다. 잊지 못할 감동의 순간이었습니다.',
                content: `깊어가는 가을밤, 아름다운 국악 선율과 함께하는 산사 음악회가 열렸습니다. 잊지 못할 감동의 순간이었습니다.

지난 10월 28일 저녁, 사찰 대웅전 앞마당에서 '가을 산사 음악회'가 열렸습니다. 이번 음악회는 전통 국악과 현대 음악이 어우러진 특별한 무대로 구성되었으며, 약 500명의 관객이 참석했습니다.

공연은 저녁 7시부터 시작되어 약 2시간 동안 진행되었습니다. 첫 번째 무대는 거문고 독주로 시작되었고, 이어서 가야금, 대금, 해금 등 전통 악기들의 연주가 이어졌습니다. 특히 달빛 아래에서 펼쳐진 대금 연주는 참석자들의 마음을 사로잡았습니다.

중간에는 현대적인 편곡으로 재해석된 불교 음악도 선보였으며, 마지막 무대는 모든 연주자들이 함께하는 합주로 마무리되었습니다. 한 관객은 "산사에서 들리는 음악이 정말 달랐습니다. 마음이 정화되는 느낌이었어요"라고 말씀하셨습니다.

이번 음악회는 사찰의 문화 프로그램 일환으로 기획되었으며, 앞으로도 계절마다 다양한 문화 행사를 마련할 예정입니다.`,
                image: 'https://images.unsplash.com/photo-1511379938547-c1f69419868d?w=800&h=600&fit=crop',
                views: 412,
                category: '문화'
            }
        ];

        const galleryImages = [
            { id: 1, src: 'https://images.unsplash.com/photo-1542838132-92c53300491e?w=600&h=400&fit=crop', title: '마음 나눔 행사' },
            { id: 2, src: 'https://images.unsplash.com/photo-1506126613408-eca07ce68773?w=600&h=400&fit=crop', title: '청소년 캠프' },
            { id: 3, src: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=600&h=400&fit=crop', title: '주말 정기 법회' },
            { id: 4, src: 'https://images.unsplash.com/photo-1516589178581-6cd7833ae3b2?w=600&h=400&fit=crop', title: '자비의 김장 나누기' },
            { id: 5, src: 'https://images.unsplash.com/photo-1470071459604-3b5ec3a7fe05?w=600&h=400&fit=crop', title: '가을 숲길 걷기 명상' },
            { id: 6, src: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=600&h=400&fit=crop', title: '전통 차 시연회' },
            { id: 7, src: 'https://images.unsplash.com/photo-1511379938547-c1f69419868d?w=600&h=400&fit=crop', title: '산사 음악회' },
            { id: 8, src: 'https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=600&h=400&fit=crop', title: '어린이 법회' },
            { id: 9, src: 'https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=600&h=400&fit=crop', title: '부처님 오신 날 봉축 법요식' }
        ];

        const resources = [
            { type: 'PDF', title: '월간 마음공부 11월호', date: '2025년 11월 1일', description: '이달의 법문과 수행일지, 신도들의 이야기 등이 담겨있습니다.' },
            { type: '음성', title: '아침 명상 음성 가이드', date: '2025년 10월 25일', description: '하루를 차분하게 시작할 수 있도록 안내하는 10분 명상 음성 파일입니다.' },
            { type: '영상', title: '주지스님 특별 법회 영상', date: '2025년 10월 18일', description: '"일상 속의 깨달음"을 주제로 한 특별 법회 전체 영상입니다.' },
            { type: '문서', title: '초심자를 위한 명상 안내서', date: '2025년 10월 5일', description: '명상을 처음 시작하는 분들을 위한 기본적인 자세와 호흡법 안내 자료입니다.' }
        ];

        let posts = [
            { no: 15, title: '명상을 처음 시작하는데 막막하네요.', author: '김초보', date: '2025-11-28', views: 12, content: '' },
            { no: 14, title: '지난 주말 마음 나눔 행사 정말 좋았습니다!', author: '이보살', date: '2025-11-27', views: 45, content: '' },
            { no: 13, title: '아침 명상 가이드 음성자료 감사합니다.', author: '박행자', date: '2025-11-27', views: 33, content: '' },
            { no: 12, title: '혹시 108배 하시는 분 계신가요?', author: '최정진', date: '2025-11-26', views: 88, content: '' },
            { no: 11, title: '다들 어떻게 화를 다스리시는지 궁금합니다.', author: '수행중', date: '2025-11-25', views: 152, content: '' },
            { no: 10, title: '주지스님 법문 내용 공유합니다.', author: '관리자', date: '2025-11-25', views: 99, content: '' }
        ];

        let filteredPosts = [...posts];
        let currentNewsId = null;

        // Page Navigation
        function showPage(pageId) {
            document.querySelectorAll('.page-section').forEach(section => {
                section.classList.remove('active');
            });
            document.getElementById(pageId).classList.add('active');
            
            // Load page content
            if (pageId === 'home') {
                renderHomePage();
            } else if (pageId === 'news') {
                renderNewsPage();
            } else if (pageId === 'gallery') {
                renderGalleryPage();
            } else if (pageId === 'resources') {
                renderResourcesPage();
            } else if (pageId === 'community') {
                renderCommunityPage();
            } else if (pageId === 'about') {
                renderAboutPage();
            }
            
            window.scrollTo(0, 0);
        }

        function showNewsDetail(id) {
            currentNewsId = id;
            showPage('news-detail');
            renderNewsDetail(id);
        }

        // Render Functions
        function renderHomePage() {
            const container = document.getElementById('home-news-container');
            const latestNews = newsItems.slice(0, 3);
            container.innerHTML = latestNews.map(item => `
                <div class="col-12 col-md-6 col-lg-4">
                    <div class="card h-100 shadow-sm border-0" style="cursor: pointer;" onclick="showNewsDetail(${item.id})">
                        <div style="position: relative; overflow: hidden;">
                            <img src="${item.image}" alt="${item.title}" class="card-img-top" style="height: 250px; object-fit: cover;">
                            ${item.category ? `<span class="badge bg-secondary" style="position: absolute; top: 10px; right: 10px;">${item.category}</span>` : ''}
                        </div>
                        <div class="card-body">
                            <h5 class="card-title fw-bold">${item.title}</h5>
                            <div class="d-flex justify-content-between align-items-center mb-2">
                                <small class="text-muted">${item.date}</small>
                                ${item.views ? `<small class="text-muted">조회 ${item.views.toLocaleString()}</small>` : ''}
                            </div>
                            <p class="card-text" style="color: #6c757d;">${item.excerpt}</p>
                        </div>
                        <div class="card-footer bg-white border-0">
                            <button class="btn btn-outline-dark btn-sm" onclick="event.stopPropagation(); showNewsDetail(${item.id})">더 보기</button>
                        </div>
                    </div>
                </div>
            `).join('');

            const galleryContainer = document.getElementById('home-gallery-container');
            const homeGalleryImages = [
                'https://images.unsplash.com/photo-1506126613408-eca07ce68773?w=400&h=400&fit=crop',
                'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=400&fit=crop',
                'https://images.unsplash.com/photo-1542838132-92c53300491e?w=400&h=400&fit=crop',
                'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400&h=400&fit=crop',
                'https://images.unsplash.com/photo-1511379938547-c1f69419868d?w=400&h=400&fit=crop',
                'https://images.unsplash.com/photo-1516589178581-6cd7833ae3b2?w=400&h=400&fit=crop',
                'https://images.unsplash.com/photo-1470071459604-3b5ec3a7fe05?w=400&h=400&fit=crop',
                'https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=400&h=400&fit=crop'
            ];
            galleryContainer.innerHTML = homeGalleryImages.map((src, idx) => `
                <div class="col-6 col-md-3">
                    <img src="${src}" alt="Gallery image ${idx + 1}" class="img-fluid rounded shadow-sm" 
                         style="cursor: pointer; height: 250px; object-fit: cover; width: 100%;" 
                         onclick="showPage('gallery')">
                </div>
            `).join('');
        }

        function renderAboutPage() {
            const container = document.getElementById('about-team-container');
            const team = [
                { name: '김민준', role: '지도법사', image: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=300&h=300&fit=crop' },
                { name: '이서연', role: '프로그램 디렉터', image: 'https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=300&h=300&fit=crop' },
                { name: '박도현', role: '커뮤니티 매니저', image: 'https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=300&h=300&fit=crop' }
            ];
            container.innerHTML = team.map(person => `
                <div class="col-md-4 mb-4 text-center">
                    <div class="card h-100 p-3 border-0 shadow-sm">
                        <img src="${person.image}" alt="${person.name}" class="rounded-circle mb-3 mx-auto" style="width: 150px; height: 150px; object-fit: cover;">
                        <div class="card-body">
                            <h5 class="card-title fw-bold">${person.name}</h5>
                            <p class="card-text">${person.role}</p>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function renderNewsPage() {
            const container = document.getElementById('news-container');
            container.innerHTML = newsItems.map(item => `
                <div class="col-12 col-md-6 col-lg-4">
                    <div class="card h-100 shadow-sm border-0" style="cursor: pointer;" onclick="showNewsDetail(${item.id})">
                        <div style="position: relative; overflow: hidden;">
                            <img src="${item.image}" alt="${item.title}" class="card-img-top" style="height: 250px; object-fit: cover;">
                            ${item.category ? `<span class="badge bg-secondary" style="position: absolute; top: 10px; right: 10px;">${item.category}</span>` : ''}
                        </div>
                        <div class="card-body">
                            <h5 class="card-title fw-bold">${item.title}</h5>
                            <div class="d-flex justify-content-between align-items-center mb-2">
                                <small class="text-muted">${item.date}</small>
                                ${item.views ? `<small class="text-muted">조회 ${item.views.toLocaleString()}</small>` : ''}
                            </div>
                            <p class="card-text" style="color: #6c757d;">${item.excerpt}</p>
                        </div>
                        <div class="card-footer bg-white border-0">
                            <button class="btn btn-outline-dark btn-sm" onclick="event.stopPropagation(); showNewsDetail(${item.id})">더 보기</button>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function renderNewsDetail(id) {
            const item = newsItems.find(n => n.id === id);
            if (!item) {
                document.getElementById('news-detail-container').innerHTML = `
                    <div class="text-center">
                        <h2>소식을 찾을 수 없습니다</h2>
                        <p class="text-muted">요청하신 소식이 존재하지 않습니다.</p>
                        <button class="btn btn-outline-dark" onclick="showPage('news')">소식 목록으로 돌아가기</button>
                    </div>
                `;
                return;
            }

            const currentIndex = newsItems.findIndex(n => n.id === id);
            const prevItem = currentIndex > 0 ? newsItems[currentIndex - 1] : null;
            const nextItem = currentIndex < newsItems.length - 1 ? newsItems[currentIndex + 1] : null;
            const relatedNews = newsItems.filter(n => n.id !== id).slice(0, 3);

            document.getElementById('news-detail-container').innerHTML = `
                <div class="mb-4">
                    <button class="btn btn-outline-secondary btn-sm" onclick="showPage('news')">← 목록으로</button>
                </div>
                <div class="card border-0 shadow-sm mb-4">
                    <img src="${item.image}" alt="${item.title}" style="width: 100%; height: 500px; object-fit: cover; display: block;">
                    <div class="card-body p-4 p-md-5">
                        <div class="d-flex flex-wrap align-items-center gap-2 mb-3">
                            ${item.category ? `<span class="badge bg-secondary">${item.category}</span>` : ''}
                            <small class="text-muted">${item.date}</small>
                            ${item.views ? `<small class="text-muted">•</small><small class="text-muted">조회 ${item.views.toLocaleString()}</small>` : ''}
                        </div>
                        <h2 class="fw-bold mb-4" style="font-size: 2rem; line-height: 1.3;">${item.title}</h2>
                        <div class="mb-4 pb-3 border-bottom">
                            <small class="text-muted me-3">공유하기:</small>
                            <button class="btn btn-outline-primary btn-sm me-2" onclick="shareOnFacebook('${item.title}')">Facebook</button>
                            <button class="btn btn-outline-info btn-sm me-2" onclick="shareOnTwitter('${item.title}')">Twitter</button>
                            <button class="btn btn-outline-warning btn-sm me-2" onclick="copyLink()">링크 복사</button>
                        </div>
                        <p style="color: #333; line-height: 1.8; white-space: pre-line; font-size: 1.1rem;">${item.content}</p>
                    </div>
                </div>
                ${prevItem || nextItem ? `
                    <div class="row g-3 mb-5">
                        ${prevItem ? `
                            <div class="col-md-6">
                                <div class="card h-100 border shadow-sm" style="cursor: pointer;" onclick="showNewsDetail(${prevItem.id})">
                                    <div class="card-body">
                                        <small class="text-muted d-block mb-2">이전 소식</small>
                                        <h5 class="fw-bold" style="font-size: 1rem;">${prevItem.title}</h5>
                                        <p class="text-muted small mb-0">${prevItem.date}</p>
                                    </div>
                                </div>
                            </div>
                        ` : ''}
                        ${nextItem ? `
                            <div class="col-md-6 ${!prevItem ? 'offset-md-6' : ''}">
                                <div class="card h-100 border shadow-sm" style="cursor: pointer;" onclick="showNewsDetail(${nextItem.id})">
                                    <div class="card-body">
                                        <small class="text-muted d-block mb-2">다음 소식</small>
                                        <h5 class="fw-bold" style="font-size: 1rem;">${nextItem.title}</h5>
                                        <p class="text-muted small mb-0">${nextItem.date}</p>
                                    </div>
                                </div>
                            </div>
                        ` : ''}
                    </div>
                ` : ''}
                ${relatedNews.length > 0 ? `
                    <div class="mb-4">
                        <h4 class="fw-bold mb-4">관련 소식</h4>
                        <div class="row g-4">
                            ${relatedNews.map(related => `
                                <div class="col-12 col-md-4">
                                    <div class="card h-100 shadow-sm border-0" style="cursor: pointer;" onclick="showNewsDetail(${related.id})">
                                        <img src="${related.image}" alt="${related.title}" class="card-img-top" style="height: 200px; object-fit: cover;">
                                        <div class="card-body">
                                            <h5 class="fw-bold" style="font-size: 1rem;">${related.title}</h5>
                                            <p class="text-muted small">${related.date}</p>
                                            <p style="color: #6c757d; font-size: 0.9rem;">${related.excerpt.substring(0, 80)}...</p>
                                        </div>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                ` : ''}
                <div class="text-center mt-5">
                    <button class="btn btn-outline-dark btn-lg" onclick="showPage('news')">소식 목록으로 돌아가기</button>
                </div>
            `;
        }

        function renderGalleryPage() {
            const container = document.getElementById('gallery-container');
            container.innerHTML = galleryImages.map(image => `
                <div class="col-12 col-sm-6 col-lg-4">
                    <div class="card shadow-sm border-0" style="cursor: pointer;" onclick="showGalleryImage('${image.src}', '${image.title}')">
                        <img src="${image.src}" alt="${image.title}" class="card-img-top" style="aspect-ratio: 4/3; object-fit: cover;">
                        <div class="card-body">
                            <h5 class="card-title text-center">${image.title}</h5>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function renderResourcesPage() {
            const container = document.getElementById('resources-container');
            const getTypeBadge = (type) => {
                const colors = { 'PDF': 'danger', '음성': 'success', '영상': 'info' };
                const color = colors[type] || 'secondary';
                return `<span class="badge bg-${color} me-2">${type}</span>`;
            };
            container.innerHTML = resources.map(resource => `
                <div class="list-group-item p-3 mb-3 border-0 shadow-sm">
                    <div class="row align-items-center">
                        <div class="col-md-8">
                            <h5>${getTypeBadge(resource.type)}${resource.title}</h5>
                            <p class="mb-1 text-muted small">${resource.date}</p>
                            <p class="mb-0" style="color: #6c757d;">${resource.description}</p>
                        </div>
                        <div class="col-md-4 text-md-end mt-3 mt-md-0">
                            <button class="btn btn-outline-dark btn-sm me-2">미리보기</button>
                            <button class="btn btn-custom-secondary btn-sm">다운로드</button>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function renderCommunityPage() {
            const container = document.getElementById('community-container');
            if (filteredPosts.length === 0) {
                container.innerHTML = `
                    <div class="text-center py-5">
                        <p class="text-muted">검색 결과가 없습니다.</p>
                        <button class="btn btn-outline-secondary" onclick="resetSearch()">전체 목록 보기</button>
                    </div>
                `;
            } else {
                container.innerHTML = `
                    <table class="table table-hover table-responsive text-center shadow-sm" style="background-color: white;">
                        <thead class="table-light">
                            <tr>
                                <th>번호</th>
                                <th style="width: 50%;">제목</th>
                                <th>작성자</th>
                                <th>작성일</th>
                                <th>조회</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${filteredPosts.map(post => `
                                <tr>
                                    <td>${post.no}</td>
                                    <td class="text-start">
                                        <a href="#" class="text-decoration-none text-dark">${post.title}</a>
                                    </td>
                                    <td>${post.author}</td>
                                    <td>${post.date}</td>
                                    <td>${post.views}</td>
                                </tr>
                            `).join('')}
                        </tbody>
                    </table>
                `;
            }
        }

        // Community Functions
        function handleSearch(e) {
            e.preventDefault();
            const query = document.getElementById('search-input').value.toLowerCase().trim();
            if (!query) {
                filteredPosts = [...posts];
                document.getElementById('reset-search').style.display = 'none';
                document.getElementById('community-search-result').style.display = 'none';
            } else {
                filteredPosts = posts.filter(post => 
                    post.title.toLowerCase().includes(query) ||
                    post.author.toLowerCase().includes(query) ||
                    (post.content && post.content.toLowerCase().includes(query))
                );
                document.getElementById('reset-search').style.display = 'inline-block';
                document.getElementById('community-search-result').innerHTML = `
                    <small class="text-muted">"${query}" 검색 결과: ${filteredPosts.length}개</small>
                `;
                document.getElementById('community-search-result').style.display = 'block';
            }
            renderCommunityPage();
        }

        function resetSearch() {
            document.getElementById('search-input').value = '';
            filteredPosts = [...posts];
            document.getElementById('reset-search').style.display = 'none';
            document.getElementById('community-search-result').style.display = 'none';
            renderCommunityPage();
        }

        function handleSubmitPost(e) {
            e.preventDefault();
            const form = e.target;
            const title = form.title.value;
            const author = form.author.value;
            const content = form.content.value;

            if (!title || !author || !content) {
                alert('제목, 작성자, 내용을 모두 입력해주세요.');
                return;
            }

            const today = new Date();
            const formattedDate = `${today.getFullYear()}-${(today.getMonth() + 1).toString().padStart(2, '0')}-${today.getDate().toString().padStart(2, '0')}`;
            const newPost = {
                no: posts.length > 0 ? Math.max(...posts.map(p => p.no)) + 1 : 1,
                title,
                author,
                date: formattedDate,
                views: 0,
                content
            };

            posts = [newPost, ...posts];
            filteredPosts = [...posts];
            form.reset();
            bootstrap.Modal.getInstance(document.getElementById('writeModal')).hide();
            renderCommunityPage();
        }

        // Gallery Functions
        function showGalleryImage(src, title) {
            document.getElementById('galleryModalTitle').textContent = title;
            document.getElementById('galleryModalImage').src = src;
            document.getElementById('galleryModalImage').alt = title;
            new bootstrap.Modal(document.getElementById('galleryModal')).show();
        }

        // Share Functions
        function shareOnFacebook(title) {
            window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(window.location.href)}`, '_blank');
        }

        function shareOnTwitter(title) {
            window.open(`https://twitter.com/intent/tweet?url=${encodeURIComponent(window.location.href)}&text=${encodeURIComponent(title)}`, '_blank');
        }

        function copyLink() {
            navigator.clipboard.writeText(window.location.href);
            alert('링크가 클립보드에 복사되었습니다.');
        }

        // Initialize
        document.getElementById('current-year').textContent = new Date().getFullYear();
        renderHomePage();
    </script>
</body>
</html>

